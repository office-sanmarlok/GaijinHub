# GaijinHub - å…¨å›½å¯¾å¿œå¤–å›½äººã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 

![Next.js](https://img.shields.io/badge/Next.js-15.3.1-black)
![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue)
![Supabase](https://img.shields.io/badge/Supabase-2.0-green)
![Tailwind CSS](https://img.shields.io/badge/Tailwind-3.0-cyan)

GaijinHubã¯æ—¥æœ¬å…¨å›½ã®å¤–å›½äººã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£å‘ã‘ã®åŒ…æ‹¬çš„ãªãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚ä½å±…ã€æ±‚äººã€å£²è²·ã€ã‚µãƒ¼ãƒ“ã‚¹ã®æƒ…å ±ã‚’åœ°åŸŸã‚„é§…ã‚’åŸºæº–ã«æ¤œç´¢ãƒ»æŠ•ç¨¿ã§ãã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

## ğŸ“‹ ç›®æ¬¡

- [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦](#ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦)
- [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](#æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)
- [ä¸»è¦æ©Ÿèƒ½](#ä¸»è¦æ©Ÿèƒ½)
- [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
- [ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
- [é–‹ç™ºç’°å¢ƒ](#é–‹ç™ºç’°å¢ƒ)
- [APIä»•æ§˜](#apiä»•æ§˜)
- [ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ](#ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ)
- [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ](#ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ)
- [é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³](#é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³)
- [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)
- [ä»Šå¾Œã®æ‹¡å¼µè¨ˆç”»](#ä»Šå¾Œã®æ‹¡å¼µè¨ˆç”»)

## ğŸŒŸ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### ãƒ“ã‚¸ãƒ§ãƒ³
æ—¥æœ¬åœ¨ä½å¤–å›½äººãŒå¿…è¦ã¨ã™ã‚‹æƒ…å ±ï¼ˆä½å±…ã€ä»•äº‹ã€ç‰©å“ã€ã‚µãƒ¼ãƒ“ã‚¹ï¼‰ã‚’åŠ¹ç‡çš„ã«è¦‹ã¤ã‘ã‚‰ã‚Œã‚‹å…¨å›½å¯¾å¿œãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®æä¾›

### å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼
- æ—¥æœ¬åœ¨ä½ã®å¤–å›½äºº
- å¤–å›½äººå‘ã‘ã‚µãƒ¼ãƒ“ã‚¹æä¾›è€…
- å›½éš›çš„ãªã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ¡ãƒ³ãƒãƒ¼

### ä¸»è¦ä¾¡å€¤ææ¡ˆ
- **å…¨å›½å¯¾å¿œ**: 47éƒ½é“åºœçœŒã™ã¹ã¦ã®åœ°åŸŸã‚’ã‚«ãƒãƒ¼
- **åœ°ç†ãƒ™ãƒ¼ã‚¹æ¤œç´¢**: é§…ãƒ»è·¯ç·šãƒ»å¸‚åŒºç”ºæ‘ã§ã®ç²¾å¯†ãªæ¤œç´¢
- **å¤šè¨€èªå¯¾å¿œ**: æ—¥æœ¬èªãƒ»è‹±èªãƒ»ä¸­å›½èªã®ã‚µãƒãƒ¼ãƒˆ
- **ãƒ¢ãƒã‚¤ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**: ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã«ã‚ˆã‚‹æœ€é©åŒ–

## ğŸ›  æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **Next.js 15.3.1** - React ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼ˆApp Routerï¼‰
- **TypeScript 5.0** - å‹å®‰å…¨æ€§ã®ç¢ºä¿
- **Tailwind CSS 3.0** - ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆCSSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **Shadcn UI** - é«˜å“è³ªUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- **Radix UI** - ã‚¢ã‚¯ã‚»ã‚·ãƒ–ãƒ«ãªãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- **Lucide React** - ã‚¢ã‚¤ã‚³ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- **Supabase** - PostgreSQLãƒ™ãƒ¼ã‚¹ã®BaaS
- **PostGIS** - åœ°ç†ç©ºé–“ãƒ‡ãƒ¼ã‚¿æ‹¡å¼µ
- **Row Level Security (RLS)** - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ¬ãƒ™ãƒ«ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### é–‹ç™ºãƒ„ãƒ¼ãƒ«
- **ESLint** - ã‚³ãƒ¼ãƒ‰å“è³ªç®¡ç†
- **TypeScript** - é™çš„å‹ãƒã‚§ãƒƒã‚¯
- **Git** - ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†

### ã‚¤ãƒ³ãƒ•ãƒ©ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤
- **Vercel** - ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ï¼ˆæ¨å¥¨ï¼‰
- **Supabase Cloud** - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»èªè¨¼ã‚µãƒ¼ãƒ“ã‚¹

## ğŸš€ ä¸»è¦æ©Ÿèƒ½

### 1. é«˜åº¦ãªæ¤œç´¢ã‚·ã‚¹ãƒ†ãƒ 
- **è¤‡åˆæ¤œç´¢**: ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ + åœ°ç†æ¡ä»¶ + ã‚«ãƒ†ã‚´ãƒª + ä¾¡æ ¼ç¯„å›²
- **åœ°ç†æ¤œç´¢ã‚ªãƒ—ã‚·ãƒ§ãƒ³**:
  - é§…åæ¤œç´¢ï¼ˆå…¨å›½ç´„10,000é§…å¯¾å¿œï¼‰
  - è·¯ç·šæ¤œç´¢ï¼ˆJRãƒ»ç§é‰„ãƒ»åœ°ä¸‹é‰„ï¼‰
  - å¸‚åŒºç”ºæ‘æ¤œç´¢ï¼ˆ1,741è‡ªæ²»ä½“ï¼‰
  - éƒ½é“åºœçœŒæ¤œç´¢ï¼ˆ47éƒ½é“åºœçœŒï¼‰
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å€™è£œè¡¨ç¤º**: å…¥åŠ›æ™‚ã®å³åº§ãªå€™è£œæç¤º
- **è·é›¢ãƒ™ãƒ¼ã‚¹æ¤œç´¢**: GPSä½ç½®æƒ…å ±ã‹ã‚‰ã®ç¯„å›²æ¤œç´¢

### 2. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–UI
- **ãƒ¢ãƒã‚¤ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆè¨­è¨ˆ**: ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³æœ€é©åŒ–
- **è¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆ**: ã‚°ãƒªãƒƒãƒ‰è¡¨ç¤ºãƒ»ãƒªã‚¹ãƒˆè¡¨ç¤º
- **ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ**: ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã«é€£å‹•
- **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: WCAG 2.1 AAæº–æ‹ 

### 3. å¤šè¨€èªãƒ»å¤šæ–‡åŒ–å¯¾å¿œ
- **UIè¨€èª**: æ—¥æœ¬èªãƒ»è‹±èª
- **ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è¨€èª**: æ—¥æœ¬èªãƒ»è‹±èªãƒ»ä¸­å›½èª
- **åœ°åŸŸåˆ¥ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º**: åœ°åŸŸç‰¹æ€§ã«å¿œã˜ãŸæƒ…å ±è¡¨ç¤º

### 4. ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ãƒ»ç®¡ç†
- **Supabase Auth**: ãƒ¡ãƒ¼ãƒ«ãƒ»ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒ­ã‚°ã‚¤ãƒ³
- **ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç®¡ç†**: ã‚¢ãƒã‚¿ãƒ¼ãƒ»è¡¨ç¤ºåè¨­å®š
- **ãŠæ°—ã«å…¥ã‚Šæ©Ÿèƒ½**: é–¢å¿ƒã®ã‚ã‚‹ãƒªã‚¹ãƒ†ã‚£ãƒ³ã‚°ä¿å­˜
- **æŠ•ç¨¿ç®¡ç†**: è‡ªåˆ†ã®æŠ•ç¨¿ã®ç·¨é›†ãƒ»å‰Šé™¤

## ğŸ— ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“å›³
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Frontend (Next.js)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Pages  â”‚ â”‚Componentsâ”‚ â”‚   API    â”‚ â”‚
â”‚  â”‚          â”‚ â”‚          â”‚ â”‚  Routes  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â”‚ HTTP/REST
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Supabase Backend              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚PostgreSQLâ”‚ â”‚   Auth   â”‚ â”‚ Storage  â”‚ â”‚
â”‚  â”‚ + PostGISâ”‚ â”‚          â”‚ â”‚          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 
```
gaijinhub-production/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ (auth)/                   # èªè¨¼é–¢é€£ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â””â”€â”€ signup/
â”‚   â”œâ”€â”€ account/                  # ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†
â”‚   â”‚   â”œâ”€â”€ favorites/
â”‚   â”‚   â””â”€â”€ my-listings/
â”‚   â”œâ”€â”€ api/                      # API Routes
â”‚   â”‚   â”œâ”€â”€ favorites/
â”‚   â”‚   â”œâ”€â”€ listings/
â”‚   â”‚   â”‚   â”œâ”€â”€ search/           # æ¤œç´¢API
â”‚   â”‚   â”‚   â””â”€â”€ near/             # è¿‘éš£æ¤œç´¢API
â”‚   â”‚   â””â”€â”€ location/             # åœ°ç†ãƒ‡ãƒ¼ã‚¿API
â”‚   â”‚       â”œâ”€â”€ prefectures/
â”‚   â”‚       â”œâ”€â”€ municipalities/
â”‚   â”‚       â”œâ”€â”€ lines/
â”‚   â”‚       â””â”€â”€ stations/
â”‚   â”œâ”€â”€ components/               # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ common/               # å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ SearchForm.tsx
â”‚   â”‚   â”‚   â””â”€â”€ StationSearch.tsx
â”‚   â”‚   â”œâ”€â”€ home/                 # ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ç”¨
â”‚   â”‚   â”‚   â””â”€â”€ Hero.tsx
â”‚   â”‚   â”œâ”€â”€ layout/               # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â”‚   â””â”€â”€ Header.tsx
â”‚   â”‚   â””â”€â”€ ui/                   # Shadcn UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ listings/                 # ãƒªã‚¹ãƒ†ã‚£ãƒ³ã‚°é–¢é€£
â”‚   â”‚   â”œâ”€â”€ [id]/                 # è©³ç´°ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ new/                  # æ–°è¦æŠ•ç¨¿
â”‚   â”‚   â””â”€â”€ page.tsx              # ä¸€è¦§ãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ lib/                      # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ supabase/
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”œâ”€â”€ providers/                # Context Providers
â”‚   â”œâ”€â”€ types/                    # TypeScriptå‹å®šç¾©
â”‚   â”œâ”€â”€ globals.css
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â””â”€â”€ page.tsx
â”œâ”€â”€ public/                       # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â””â”€â”€ images/
â”œâ”€â”€ supabase/                     # Supabaseè¨­å®š
â”œâ”€â”€ components.json               # Shadcn UIè¨­å®š
â”œâ”€â”€ database-schema.md            # DBè¨­è¨ˆä»•æ§˜
â”œâ”€â”€ frontend-workflow.md          # é–‹ç™ºãƒ•ãƒ­ãƒ¼
â”œâ”€â”€ middleware.ts                 # Next.js middleware
â”œâ”€â”€ next.config.ts                # Next.jsè¨­å®š
â”œâ”€â”€ package.json
â”œâ”€â”€ tailwind.config.js
â””â”€â”€ tsconfig.json
```

## âš™ï¸ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶
- Node.js 18.0ä»¥ä¸Š
- npm ã¾ãŸã¯ yarn
- Git
- Supabaseã‚¢ã‚«ã‚¦ãƒ³ãƒˆ

### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¯ãƒ­ãƒ¼ãƒ³
```bash
git clone https://github.com/your-username/gaijinhub-production.git
cd gaijinhub-production
```

### 2. ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
npm install
```

### 3. ç’°å¢ƒå¤‰æ•°è¨­å®š
`.env.local`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆï¼š
```env
# Supabaseè¨­å®š
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# æœ¬ç•ªç’°å¢ƒè¨­å®š
NEXT_PUBLIC_APP_URL=http://localhost:3000
```

### 4. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä»¥ä¸‹ã®SQLã‚’å®Ÿè¡Œï¼š

```sql
-- åœ°ç†æƒ…å ±æ‹¡å¼µã‚’æœ‰åŠ¹åŒ–
CREATE EXTENSION IF NOT EXISTS postgis;

-- åŸºæœ¬ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆï¼ˆè©³ç´°ã¯database-schema.mdã‚’å‚ç…§ï¼‰
-- prefectures, municipalities, companies, lines, stations, listings, etc.
```

### 5. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
```bash
npm run dev
```

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ http://localhost:3000 ã§èµ·å‹•ã—ã¾ã™ã€‚

## ğŸ”§ é–‹ç™ºç’°å¢ƒ

### åˆ©ç”¨å¯èƒ½ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev

# æœ¬ç•ªãƒ“ãƒ«ãƒ‰
npm run build

# æœ¬ç•ªã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm start

# ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯
npm run lint

# å‹ãƒã‚§ãƒƒã‚¯
npm run type-check
```

### æ¨å¥¨é–‹ç™ºãƒ„ãƒ¼ãƒ«
- **VS Code** - ã‚¨ãƒ‡ã‚£ã‚¿
- **Thunder Client** - API ãƒ†ã‚¹ãƒˆ
- **Supabase Studio** - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†
- **Vercel CLI** - ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ„ãƒ¼ãƒ«

## ğŸ“¡ APIä»•æ§˜

### æ¤œç´¢API (`/api/listings/search`)

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/listings/search`

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
```typescript
interface SearchParams {
  q?: string;                     // ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢
  category?: string;              // ã‚«ãƒ†ã‚´ãƒªçµã‚Šè¾¼ã¿
  station_cds?: string;           // é§…ã‚³ãƒ¼ãƒ‰ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰
  line_ids?: string;              // è·¯ç·šIDï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰
  muni_ids?: string;              // å¸‚åŒºç”ºæ‘IDï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰
  pref_ids?: string;              // éƒ½é“åºœçœŒIDï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰
  user_lat?: number;              // ãƒ¦ãƒ¼ã‚¶ãƒ¼ç·¯åº¦
  user_lng?: number;              // ãƒ¦ãƒ¼ã‚¶ãƒ¼çµŒåº¦
  max_distance?: number;          // æœ€å¤§è·é›¢ï¼ˆãƒ¡ãƒ¼ãƒˆãƒ«ï¼‰
  min_price?: number;             // æœ€ä½ä¾¡æ ¼
  max_price?: number;             // æœ€é«˜ä¾¡æ ¼
  limit?: number;                 // å–å¾—ä»¶æ•°ï¼ˆæœ€å¤§100ï¼‰
  offset?: number;                // ã‚ªãƒ•ã‚»ãƒƒãƒˆ
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```typescript
interface SearchResponse {
  success: boolean;
  listings: ListingCard[];
  total: number;
  page_info: {
    current_page: number;
    total_pages: number;
    has_next: boolean;
    has_prev: boolean;
  };
  search_info: {
    query?: string;
    category?: string;
    location_type: string | null;
    location_names: string[];
  };
}
```

### åœ°ç†æƒ…å ±API

#### éƒ½é“åºœçœŒä¸€è¦§
```
GET /api/location/prefectures
```

#### å¸‚åŒºç”ºæ‘ä¸€è¦§
```
GET /api/location/municipalities/[prefId]
```

#### è·¯ç·šä¸€è¦§
```
GET /api/location/lines/[companyId]
```

#### é§…ä¸€è¦§ãƒ»æ¤œç´¢
```
GET /api/location/stations/[lineId]
GET /api/location/stations/search?q={query}&limit={limit}
```

## ğŸ§© ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ

### ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

#### `SearchForm` - çµ±åˆæ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ 
```typescript
interface SearchFormProps {
  onSearch: (params: SearchParams) => void;
  defaultValues?: Partial<SearchParams>;
  showLocationSearch?: boolean;
  showCategoryFilter?: boolean;
  showPriceFilter?: boolean;
  compact?: boolean;
  className?: string;
}
```

#### `StationSearch` - é§…æ¤œç´¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
```typescript
interface StationSearchProps {
  onStationSelect: (station: Station | null) => void;
  placeholder?: string;
  className?: string;
}
```

#### `Header` - ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ˜ãƒƒãƒ€ãƒ¼
- ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼çŠ¶æ…‹å¯¾å¿œ
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼
- ã‚¢ãƒã‚¿ãƒ¼è¡¨ç¤º

#### `Hero` - ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³
- èƒŒæ™¯ç”»åƒå¯¾å¿œ
- æ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ çµ±åˆ
- å¤šè¨€èªå¯¾å¿œ

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆéšå±¤
```
App
â”œâ”€â”€ Layout
â”‚   â”œâ”€â”€ Header
â”‚   â””â”€â”€ Footer
â”œâ”€â”€ Home
â”‚   â””â”€â”€ Hero
â”‚       â””â”€â”€ SearchForm
â”‚           â””â”€â”€ StationSearch
â”œâ”€â”€ Listings
â”‚   â”œâ”€â”€ SearchForm
â”‚   â”œâ”€â”€ ListingCard[]
â”‚   â””â”€â”€ Pagination
â””â”€â”€ ListingDetail
    â”œâ”€â”€ ImageGallery
    â”œâ”€â”€ LocationInfo
    â””â”€â”€ ContactForm
```

## ğŸ—„ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### ä¸»è¦ãƒ†ãƒ¼ãƒ–ãƒ«

#### `listings` - ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
```sql
CREATE TABLE listings (
  id uuid PRIMARY KEY,
  user_id uuid REFERENCES auth.users,
  title text NOT NULL,
  body text NOT NULL,
  body_en text,
  body_zh text,
  category text NOT NULL,
  price integer,
  lat decimal,
  lng decimal,
  point geography(POINT),
  station_id text REFERENCES stations(station_cd),
  muni_id text REFERENCES municipalities(muni_id),
  rep_image_url text,
  has_location boolean DEFAULT false,
  is_city_only boolean DEFAULT false,
  created_at timestamptz DEFAULT now()
);
```

#### åœ°ç†æƒ…å ±ãƒ†ãƒ¼ãƒ–ãƒ«
- `prefectures` - éƒ½é“åºœçœŒï¼ˆ47ä»¶ï¼‰
- `municipalities` - å¸‚åŒºç”ºæ‘ï¼ˆ1,741ä»¶ï¼‰
- `companies` - é‰„é“ä¼šç¤¾ï¼ˆç´„200ç¤¾ï¼‰
- `lines` - è·¯ç·šï¼ˆç´„1,500è·¯ç·šï¼‰
- `stations` - é§…ï¼ˆç´„10,000é§…ï¼‰

### ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æˆ¦ç•¥
```sql
-- åœ°ç†æ¤œç´¢ç”¨
CREATE INDEX idx_listings_point ON listings USING GIST (point);

-- é§…æ¤œç´¢ç”¨
CREATE INDEX idx_listings_station ON listings (station_id);

-- ã‚«ãƒ†ã‚´ãƒªæ¤œç´¢ç”¨
CREATE INDEX idx_listings_category ON listings (category);

-- ä¾¡æ ¼ç¯„å›²æ¤œç´¢ç”¨
CREATE INDEX idx_listings_price ON listings (price);

-- ä½œæˆæ—¥æ™‚ã‚½ãƒ¼ãƒˆç”¨
CREATE INDEX idx_listings_created_at ON listings (created_at DESC);
```

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é–¢æ•°ï¼ˆäºˆå®šï¼‰
```sql
-- è·é›¢ãƒ™ãƒ¼ã‚¹æ¤œç´¢
CREATE OR REPLACE FUNCTION search_listings_by_distance(
  p_lat decimal,
  p_lng decimal,
  p_max_distance_meters integer,
  p_category text DEFAULT NULL,
  p_price_min integer DEFAULT NULL,
  p_price_max integer DEFAULT NULL,
  p_limit integer DEFAULT 20,
  p_offset integer DEFAULT 0
) RETURNS TABLE(...);
```

## ğŸ“ é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰

#### TypeScript
- å³å¯†ãªå‹å®šç¾©ã‚’ä½¿ç”¨
- `any`å‹ã®ä½¿ç”¨ã‚’é¿ã‘ã‚‹
- ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¯`interface`ã€ãƒ¦ãƒ‹ã‚ªãƒ³å‹ã¯`type`ã‚’ä½¿ç”¨

#### React
- é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ç”¨ï¼ˆã‚¯ãƒ©ã‚¹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç¦æ­¢ï¼‰
- ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã§çŠ¶æ…‹ãƒ­ã‚¸ãƒƒã‚¯ã‚’åˆ†é›¢
- Server Componentsã‚’å„ªå…ˆã€å¿…è¦ãªå ´åˆã®ã¿Client Components

#### CSS/Styling
- Tailwind CSSãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹ã‚’ä½¿ç”¨
- ã‚«ã‚¹ã‚¿ãƒ CSSã¯æœ€å°é™ã«æŠ‘åˆ¶
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã¯ãƒ¢ãƒã‚¤ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã§å®Ÿè£…

#### ãƒ•ã‚¡ã‚¤ãƒ«å‘½å
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ: `PascalCase.tsx`
- ãƒšãƒ¼ã‚¸: `page.tsx`, `layout.tsx`
- ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£: `camelCase.ts`
- å®šæ•°: `UPPER_SNAKE_CASE`


### ãƒ©ã‚¤ã‚»ãƒ³ã‚¹
ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ [MIT License](LICENSE) ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

æœ€çµ‚æ›´æ–°: 2025å¹´6æœˆ8æ—¥ 